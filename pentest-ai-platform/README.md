# Pentest AI Platform

**Human-governed, agent-autonomous penetration testing control system** designed for regulated environments.

## Architecture Overview

- **Agent Autonomy Model**: AI agents autonomously execute 85-90% of testing actions (L0-L1: reconnaissance, scanning, enumeration), while humans approve 10-15% of high-risk actions (L2-L3: exploitation, lateral movement, data exfiltration).
- **Result**: Testing completes in 16-24 hours (vs. 2-3 weeks manual), with full auditable human oversight.
- **Compliance**: SOC 2, NIST 800-115, audit-grade evidence chains.

## Tech Stack

- **Backend**: FastAPI (Python 3.11+), SQLAlchemy (async), PostgreSQL 16, Redis 7
- **AI/LLM**: LangGraph orchestration, Llama 3.1 70B (local) or Claude 3.5 Sonnet (API)
- **Storage**: MinIO/S3 (evidence WORM storage)
- **Frontend**: Next.js 15, TypeScript, TailwindCSS, shadcn/ui (to be built)

## Quick Start

### Prerequisites

- Python 3.11+
- Docker & Docker Compose
- (Optional) GPU for local LLM (Llama 3.1 70B requires 80-100GB VRAM)

### Setup

1. **Clone and setup environment**:
```bash
cd pentest-ai-platform
cp .env.example backend/.env
# Edit backend/.env with your configuration
```

2. **Start infrastructure (PostgreSQL, Redis, MinIO)**:
```bash
docker-compose up -d
```

3. **Install Python dependencies**:
```bash
cd backend
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install -r requirements.txt
```

4. **Run backend**:
```bash
python main.py
# Or with uvicorn:
# uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

5. **Access**:
- API: http://localhost:8000
- API Docs: http://localhost:8000/docs
- MinIO Console: http://localhost:9001 (admin/minioadmin)

### Verify Installation

```bash
curl http://localhost:8000/health
```

Expected response:
```json
{
  "status": "healthy",
  "app": "Pentest AI Platform",
  "version": "0.1.0",
  "environment": "development"
}
```

## Project Structure

```
pentest-ai-platform/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ main.py                 # FastAPI app entry point
â”‚   â”œâ”€â”€ config.py               # Environment configuration
â”‚   â”œâ”€â”€ database.py             # PostgreSQL connection
â”‚   â”œâ”€â”€ redis_client.py         # Redis client
â”‚   â”œâ”€â”€ models/                 # SQLAlchemy ORM models
â”‚   â”œâ”€â”€ schemas/                # Pydantic request/response schemas
â”‚   â”œâ”€â”€ api/                    # API route handlers
â”‚   â”œâ”€â”€ agents/                 # Agent logic + LangGraph
â”‚   â”œâ”€â”€ middleware/             # Policy validator, scope monitor
â”‚   â”œâ”€â”€ services/               # Business logic services
â”‚   â””â”€â”€ utils/                  # Crypto, hashing, mock tools
â”œâ”€â”€ frontend/                   # Next.js frontend (to be built)
â”œâ”€â”€ docker-compose.yml          # Infrastructure services
â””â”€â”€ README.md
```

## Development Roadmap (8-Week MVP)

- [x] **Week 1**: Foundation (FastAPI, PostgreSQL, Redis, auth)
- [ ] **Week 2**: Projects, scopes, dual-signature scope lock
- [ ] **Week 3**: Test planning agent (LLM-based)
- [ ] **Week 4**: Autonomous execution engine (L0-L1 with mock tools)
- [ ] **Week 5**: Approval queue system (L2-L3 with TTL enforcement)
- [ ] **Week 6**: LangGraph orchestration + real-time scope monitoring
- [ ] **Week 7**: Findings triage & reporting agents
- [ ] **Week 8**: Frontend + integration tests

## Key Features (v0.1 MVP)

âœ… **Implemented**:
- FastAPI backend with async PostgreSQL and Redis
- Health check and configuration management
- Docker infrastructure setup

ðŸš§ **In Progress**:
- User authentication with JWT and RSA digital signatures
- Database models (users, projects, scopes, test plans, actions, runs, approvals, evidence, findings, audit log)
- Project and scope management APIs
- Test planning agent (LLM-based plan generation)
- Autonomous execution engine (L0-L1 actions with mock tools)
- Approval queue (L2-L3 approval requests with 15-min/60-min TTL)
- LangGraph execution orchestration
- Real-time scope monitoring (halt on violation within 100ms)
- Evidence hash chaining (immutable, tamper-evident)
- Findings triage and reporting agents

## Documentation

- [Architecture Document](docs/architecture.md) (to be created)
- [API Reference](http://localhost:8000/docs) (auto-generated by FastAPI)
- [Deployment Guide](docs/deployment.md) (to be created)

## Security & Compliance

- **Scope Enforcement**: Hard guardrails + real-time monitoring
- **Digital Signatures**: RSA-2048 for all approvals (non-repudiable)
- **Evidence Integrity**: SHA-256 hash chaining, immutable storage
- **Audit Trail**: Complete, append-only audit log
- **Determinism**: Temperature=0 LLM calls (reproducible)

## Contributing

This is an internal project. See [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

## License

Proprietary - All Rights Reserved
